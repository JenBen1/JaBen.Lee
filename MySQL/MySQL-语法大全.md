

# **（一）MySQL-基础**

# MySQL-简介

- [数据库三层结构](https://frxcat.fun/pages/e72480/#数据库三层结构)
- [数据在数据库中的存储方式](https://frxcat.fun/pages/e72480/#数据在数据库中的存储方式)
- [SQL语句分类](https://frxcat.fun/pages/e72480/#sql语句分类)
- [创建数据库](https://frxcat.fun/pages/e72480/#创建数据库)
- [查看、删除数据库](https://frxcat.fun/pages/e72480/#查看、删除数据库)
- [备份恢复数据库](https://frxcat.fun/pages/e72480/#备份恢复数据库)
- [创建表](https://frxcat.fun/pages/e72480/#创建表)
- Mysql 常用数据类型(列类型)
  - [数值型(整数)的基本使用](https://frxcat.fun/pages/e72480/#数值型-整数-的基本使用)
  - [整型如何定义一个无符号的整数](https://frxcat.fun/pages/e72480/#整型如何定义一个无符号的整数)
  - [数值型(bit)的使用](https://frxcat.fun/pages/e72480/#数值型-bit-的使用)
  - [数值型(小数)的基本使用](https://frxcat.fun/pages/e72480/#数值型-小数-的基本使用)
  - [字符串的基本使用](https://frxcat.fun/pages/e72480/#字符串的基本使用)
  - [字符串使用细节](https://frxcat.fun/pages/e72480/#字符串使用细节)
  - [日期类型的基本使用](https://frxcat.fun/pages/e72480/#日期类型的基本使用)
- [创建表练习](https://frxcat.fun/pages/e72480/#创建表练习)
- [修改表-基本介绍](https://frxcat.fun/pages/e72480/#修改表-基本介绍)
- [修改表-课堂练习](https://frxcat.fun/pages/e72480/#修改表-课堂练习)

# MySQL-CRUD



- [数据库 CRUD语句](https://frxcat.fun/database/MySQL/MySQL-CRUD/#数据库-crud语句)
- Insert 语句
  - [使用 INSERT 语句向表中插入数据](https://frxcat.fun/database/MySQL/MySQL-CRUD/#使用-insert-语句向表中插入数据)
  - [细节说明](https://frxcat.fun/database/MySQL/MySQL-CRUD/#细节说明)
- update 语句
  - [使用 update 语句修改表中数据](https://frxcat.fun/database/MySQL/MySQL-CRUD/#使用-update-语句修改表中数据)
  - [基本使用](https://frxcat.fun/database/MySQL/MySQL-CRUD/#基本使用)
  - [使用细节](https://frxcat.fun/database/MySQL/MySQL-CRUD/#使用细节)
- delete 语句
  - [使用 delete 语句删除表中数据](https://frxcat.fun/database/MySQL/MySQL-CRUD/#使用-delete-语句删除表中数据)
  - [使用细节](https://frxcat.fun/database/MySQL/MySQL-CRUD/#使用细节)
- select 语句
  - [基本语法](https://frxcat.fun/database/MySQL/MySQL-CRUD/#基本语法)
  - [注意事项](https://frxcat.fun/database/MySQL/MySQL-CRUD/#注意事项)
  - [课堂练习](https://frxcat.fun/database/MySQL/MySQL-CRUD/#课堂练习)
  - [使用表达式对查询的列进行运算](https://frxcat.fun/database/MySQL/MySQL-CRUD/#使用表达式对查询的列进行运算)
  - [在 select 语句中可使用 as 语句](https://frxcat.fun/database/MySQL/MySQL-CRUD/#在-select-语句中可使用-as-语句)
  - [练习](https://frxcat.fun/database/MySQL/MySQL-CRUD/#练习)
  - [在 where 子句中经常使用的运算符](https://frxcat.fun/database/MySQL/MySQL-CRUD/#在-where-子句中经常使用的运算符)
  - [使用 where 子句，进行过滤查询](https://frxcat.fun/database/MySQL/MySQL-CRUD/#使用-where-子句-进行过滤查询)
  - [使用 order by 子句排序查询结果](https://frxcat.fun/database/MySQL/MySQL-CRUD/#使用-order-by-子句排序查询结果)

# MySQL-函数



- 合计/统计函数
  - [count](https://frxcat.fun/database/MySQL/MySQL-function/#count)
  - [sum](https://frxcat.fun/database/MySQL/MySQL-function/#sum)
  - [avg](https://frxcat.fun/database/MySQL/MySQL-function/#avg)
  - [max/min](https://frxcat.fun/database/MySQL/MySQL-function/#max-min)
  - [使用 group by 子句对列进行分组](https://frxcat.fun/database/MySQL/MySQL-function/#使用-group-by-子句对列进行分组)
  - [使用 having 子句对分组后的结果进行过滤](https://frxcat.fun/database/MySQL/MySQL-function/#使用-having-子句对分组后的结果进行过滤)
- [字符串相关函数](https://frxcat.fun/database/MySQL/MySQL-function/#字符串相关函数)
- [数学相关函数](https://frxcat.fun/database/MySQL/MySQL-function/#数学相关函数)
- [时间日期相关函数](https://frxcat.fun/database/MySQL/MySQL-function/#时间日期相关函数)
- [加密和系统函数](https://frxcat.fun/database/MySQL/MySQL-function/#加密和系统函数)
- [流程控制函数](https://frxcat.fun/database/MySQL/MySQL-function/#流程控制函数)

# MySQL 多表查询



- mysql多表查询
  - [问题的引出(重点，难点)](https://frxcat.fun/database/MySQL/MySQ-ManyTableQuery/#问题的引出-重点-难点)
  
  - [说明](https://frxcat.fun/database/MySQL/MySQ-ManyTableQuery/#说明)
  
  ### 说明
  
  多表查询是指基于两个和两个以上的表查询.在实际应用中,查询单个表可能不能满足你的需求
  
  - [多表查询练习](https://frxcat.fun/database/MySQL/MySQ-ManyTableQuery/#多表查询练习)
  - [自连接](https://frxcat.fun/database/MySQL/MySQ-ManyTableQuery/#自连接)
  
  自连接是指在同一张表的连接查询[将同一张表看做两张表].
- mysql表子查询
  - [什么是子查询](https://frxcat.fun/database/MySQL/MySQ-ManyTableQuery/#什么是子查询)
  - [单行子查询](https://frxcat.fun/database/MySQL/MySQ-ManyTableQuery/#单行子查询)
  - [多行子查询](https://frxcat.fun/database/MySQL/MySQ-ManyTableQuery/#多行子查询)
  - [在多行子查询中使用 all 操作符](https://frxcat.fun/database/MySQL/MySQ-ManyTableQuery/#在多行子查询中使用-all-操作符)
  - [在多行子查询中使用 any 操作符](https://frxcat.fun/database/MySQL/MySQ-ManyTableQuery/#在多行子查询中使用-any-操作符)
  - [多列子查询](https://frxcat.fun/database/MySQL/MySQ-ManyTableQuery/#多列子查询)
  - [在 from 子句中使用子查询](https://frxcat.fun/database/MySQL/MySQ-ManyTableQuery/#在-from-子句中使用子查询)
- 表复制
  - [自我复制数据(蠕虫复制)](https://frxcat.fun/database/MySQL/MySQ-ManyTableQuery/#自我复制数据-蠕虫复制)
- 合并查询
  - [介绍](https://frxcat.fun/database/MySQL/MySQ-ManyTableQuery/#介绍)
  - [外连接](https://frxcat.fun/database/MySQL/MySQ-ManyTableQuery/#外连接)
  - [课堂练习](https://frxcat.fun/database/MySQL/MySQ-ManyTableQuery/#课堂练习)

# MySQL 约束与自增长



- mysql约束
  - [基本介绍](https://frxcat.fun/database/MySQL/MySQL-ConstraintsAndSelf-growth/#基本介绍)
  
  约束用于确保数据库的数据满足特定的商业规则。在mysql中，约束包括: not null、unique,primary key,foreign key,和check五种
  
  - [primary key(主键)-基本使用](https://frxcat.fun/database/MySQL/MySQL-ConstraintsAndSelf-growth/#primary-key-主键-基本使用)
  - [not null和unique(唯一)](https://frxcat.fun/database/MySQL/MySQL-ConstraintsAndSelf-growth/#not-null和unique-唯一)
  - [foreign key(外键)](https://frxcat.fun/database/MySQL/MySQL-ConstraintsAndSelf-growth/#foreign-key-外键)
  - [check](https://frxcat.fun/database/MySQL/MySQL-ConstraintsAndSelf-growth/#check)
  - [商店售货系统表设计案例](https://frxcat.fun/database/MySQL/MySQL-ConstraintsAndSelf-growth/#商店售货系统表设计案例)
- 自增长
  - [自增长基本介绍](https://frxcat.fun/database/MySQL/MySQL-ConstraintsAndSelf-growth/#自增长基本介绍)
  - [自增长使用细节](https://frxcat.fun/database/MySQL/MySQL-ConstraintsAndSelf-growth/#自增长使用细节)

# MySQL 索引与事务



- mysql索引(index)
  - [索引快速入门](https://frxcat.fun/database/MySQL/MySQL_IndexesAndTransactions/#索引快速入门)
  - [索引的原理](https://frxcat.fun/database/MySQL/MySQL_IndexesAndTransactions/#索引的原理)
  - [索引的类型](https://frxcat.fun/database/MySQL/MySQL_IndexesAndTransactions/#索引的类型)
  - [索引使用](https://frxcat.fun/database/MySQL/MySQL_IndexesAndTransactions/#索引使用)
  - [小结：哪些列上适合使用索引](https://frxcat.fun/database/MySQL/MySQL_IndexesAndTransactions/#小结-哪些列上适合使用索引)
- mysql事务
  - [什么是事务](https://frxcat.fun/database/MySQL/MySQL_IndexesAndTransactions/#什么是事务)
  - [事务和锁](https://frxcat.fun/database/MySQL/MySQL_IndexesAndTransactions/#事务和锁)
  - [回退事务](https://frxcat.fun/database/MySQL/MySQL_IndexesAndTransactions/#回退事务)
  - [提交事务](https://frxcat.fun/database/MySQL/MySQL_IndexesAndTransactions/#提交事务)
  - [事务细节讨论](https://frxcat.fun/database/MySQL/MySQL_IndexesAndTransactions/#事务细节讨论)
- mysql 事务隔离级别
  - [事务隔离级别介绍](https://frxcat.fun/database/MySQL/MySQL_IndexesAndTransactions/#事务隔离级别介绍)
  - [查看事务隔离级别](https://frxcat.fun/database/MySQL/MySQL_IndexesAndTransactions/#查看事务隔离级别)
  - [事务隔离级别](https://frxcat.fun/database/MySQL/MySQL_IndexesAndTransactions/#事务隔离级别)
  - [设置事务隔离级别](https://frxcat.fun/database/MySQL/MySQL_IndexesAndTransactions/#设置事务隔离级别)
- mysql 事务 ACID
  - [事务的 acid 特性](https://frxcat.fun/database/MySQL/MySQL_IndexesAndTransactions/#事务的-acid-特性)

# MySQL 表类型和存储引擎



- mysql 表类型和存储引擎
  - [基本介绍](https://frxcat.fun/database/MySQL/MySQL_Table_type_storage_engine/#基本介绍)
  - [主要的存储引擎/表类型特点](https://frxcat.fun/database/MySQL/MySQL_Table_type_storage_engine/#主要的存储引擎-表类型特点)
  - [细节说明](https://frxcat.fun/database/MySQL/MySQL_Table_type_storage_engine/#细节说明)
  - [三种存储引擎表使用案例](https://frxcat.fun/database/MySQL/MySQL_Table_type_storage_engine/#三种存储引擎表使用案例)
  - [如何选择表的存储引擎](https://frxcat.fun/database/MySQL/MySQL_Table_type_storage_engine/#如何选择表的存储引擎)

# MySQL 视图与管理



- 视图(view)
  - [看需求](https://frxcat.fun/database/MySQL/MySQL_View_Manage/#看需求)
  - [基本概念](https://frxcat.fun/database/MySQL/MySQL_View_Manage/#基本概念)
  - [视图的基本使用](https://frxcat.fun/database/MySQL/MySQL_View_Manage/#视图的基本使用)
  - [视图细节讨论](https://frxcat.fun/database/MySQL/MySQL_View_Manage/#视图细节讨论)
  - [视图最佳实践](https://frxcat.fun/database/MySQL/MySQL_View_Manage/#视图最佳实践)
  - [视图课堂练习](https://frxcat.fun/database/MySQL/MySQL_View_Manage/#视图课堂练习)
- Mysql管理
  - [Mysql 用户](https://frxcat.fun/database/MySQL/MySQL_View_Manage/#mysql-用户)
  - [创建用户](https://frxcat.fun/database/MySQL/MySQL_View_Manage/#创建用户)
  - [删除用户](https://frxcat.fun/database/MySQL/MySQL_View_Manage/#删除用户)
  - [用户修改密码](https://frxcat.fun/database/MySQL/MySQL_View_Manage/#用户修改密码)
  - [mysql中的权限](https://frxcat.fun/database/MySQL/MySQL_View_Manage/#mysql中的权限)
  - [给用户授权](https://frxcat.fun/database/MySQL/MySQL_View_Manage/#给用户授权)
  - [回收用户权限](https://frxcat.fun/database/MySQL/MySQL_View_Manage/#回收用户权限)
  - [权限生效指令](https://frxcat.fun/database/MySQL/MySQL_View_Manage/#权限生效指令)
  - [课堂练习题](https://frxcat.fun/database/MySQL/MySQL_View_Manage/#课堂练习题)
  - [细节说明](https://frxcat.fun/database/MySQL/MySQL_View_Manage/#细节说明)

# （二）**MySQL-进阶**

# MySQL 存储引擎

- [MySQL 体系结构](https://frxcat.fun/database/MySQL/MySQL_Storage_Engine/#mysql-体系结构)
- [存储引擎介绍](https://frxcat.fun/database/MySQL/MySQL_Storage_Engine/#存储引擎介绍)
- 存储引擎特点
  - [InnoDB](https://frxcat.fun/database/MySQL/MySQL_Storage_Engine/#innodb)
  - [MyISAM](https://frxcat.fun/database/MySQL/MySQL_Storage_Engine/#myisam)
  - [Memory](https://frxcat.fun/database/MySQL/MySQL_Storage_Engine/#memory)
- [区别及特点](https://frxcat.fun/database/MySQL/MySQL_Storage_Engine/#区别及特点)
- [存储引擎选择](https://frxcat.fun/database/MySQL/MySQL_Storage_Engine/#存储引擎选择)

# MySQL 索引



- [在Linux系统上安装MySQL8.0](https://frxcat.fun/database/MySQL/MySQL_Advanced_index/#在linux系统上安装mysql8-0)
- [索引介绍](https://frxcat.fun/database/MySQL/MySQL_Advanced_index/#索引介绍)
- 索引结构
  - [二叉树](https://frxcat.fun/database/MySQL/MySQL_Advanced_index/#二叉树)
  - [B-Tree](https://frxcat.fun/database/MySQL/MySQL_Advanced_index/#b-tree)
  - [B+Tree](https://frxcat.fun/database/MySQL/MySQL_Advanced_index/#b-tree)
  - [Hash](https://frxcat.fun/database/MySQL/MySQL_Advanced_index/#hash)
- [索引的分类](https://frxcat.fun/database/MySQL/MySQL_Advanced_index/#索引的分类)
- [索引语法](https://frxcat.fun/database/MySQL/MySQL_Advanced_index/#索引语法)
- SQL 性能分析
  - [SQL 执行频率](https://frxcat.fun/database/MySQL/MySQL_Advanced_index/#sql-执行频率)
  - [慢查询日志](https://frxcat.fun/database/MySQL/MySQL_Advanced_index/#慢查询日志)
  - [profile详情](https://frxcat.fun/database/MySQL/MySQL_Advanced_index/#profile详情)
  - [explain](https://frxcat.fun/database/MySQL/MySQL_Advanced_index/#explain)
- 索引使用
  - [验证索引效率](https://frxcat.fun/database/MySQL/MySQL_Advanced_index/#验证索引效率)
  - [最左前缀法则](https://frxcat.fun/database/MySQL/MySQL_Advanced_index/#最左前缀法则)
  - [范围查询](https://frxcat.fun/database/MySQL/MySQL_Advanced_index/#范围查询)
  - [索引失效情况](https://frxcat.fun/database/MySQL/MySQL_Advanced_index/#索引失效情况)
  
  
  
  #### 1.索引列运算
  
  不要在索引列上进行运算操作， 索引将失效。
  
  #### 2.字符串不加引号
  
  字符串类型字段使用时，不加引号，索引将失效。
  
  #### 3.模糊查询
  
  如果仅仅是尾部模糊匹配，索引不会失效。如果是头部模糊匹配，索引失效。
  
  在like模糊查询中，在关键字后面加%，索引可以生效。而如果在关键字前面加了%，索引将会失效。
  
  #### 4.or连接条件
  
  用or分割开的条件， 如果or前的条件中的列有索引，而后面的列中没有索引，那么涉及的索引都不会被用到。
  
  #### 5.数据分布影响
  
  如果MySQL评估使用索引比全表更慢，则不使用索引。
  
  就是因为MySQL在查询时，会评估使用索引的效率与走全表扫描的效率，如果走全表扫描更快，则放弃索引，走全表扫描。 因为索引是用来索引少量数据的，如果通过索引查询返回大批量的数据，则还不如走全表扫描来的快，此时索引就会失效。
  
  - [SQL提示](https://frxcat.fun/database/MySQL/MySQL_Advanced_index/#sql提示)
  - [覆盖索引](https://frxcat.fun/database/MySQL/MySQL_Advanced_index/#覆盖索引)
  - [前缀索引](https://frxcat.fun/database/MySQL/MySQL_Advanced_index/#前缀索引)
  - [单列索引与联合索引](https://frxcat.fun/database/MySQL/MySQL_Advanced_index/#单列索引与联合索引)
- [索引设计原则](https://frxcat.fun/database/MySQL/MySQL_Advanced_index/#索引设计原则)

# MySQL SQL优化



- 插入数据
  - [大批量插入数据](https://frxcat.fun/database/MySQL/MYSQL_SQL_optimization/#大批量插入数据)
- [主键优化](https://frxcat.fun/database/MySQL/MYSQL_SQL_optimization/#主键优化)
- [order by 优化](https://frxcat.fun/database/MySQL/MYSQL_SQL_optimization/#order-by-优化)
- [group by 优化](https://frxcat.fun/database/MySQL/MYSQL_SQL_optimization/#group-by-优化)
- [limit 优化](https://frxcat.fun/database/MySQL/MYSQL_SQL_optimization/#limit-优化)
- count 优化
  - [count 用法](https://frxcat.fun/database/MySQL/MYSQL_SQL_optimization/#count-用法)
- [update 优化](https://frxcat.fun/database/MySQL/MYSQL_SQL_optimization/#update-优化)

# MySQL 视图/存储过程/触发器



- [视图介绍](https://frxcat.fun/database/MySQL/MySQL_Advanced_View/#视图介绍)
- [视图语法](https://frxcat.fun/database/MySQL/MySQL_Advanced_View/#视图语法)
- [检查选项](https://frxcat.fun/database/MySQL/MySQL_Advanced_View/#检查选项)
- [视图的更新](https://frxcat.fun/database/MySQL/MySQL_Advanced_View/#视图的更新)
- [视图作用](https://frxcat.fun/database/MySQL/MySQL_Advanced_View/#视图作用)
- [案例](https://frxcat.fun/database/MySQL/MySQL_Advanced_View/#案例)
- 存储过程
  - [介绍](https://frxcat.fun/database/MySQL/MySQL_Advanced_View/#介绍)
  
  存储过程是事先经过编译并存储在数据库中的一段 SQL 语句的集合，调用存储过程可以简化应用开发人员的很多工作，减少数据在数据库和应用服务器之间的传输，对于提高数据处理的效率是有好处的。
  
  存储过程思想上很简单，就是数据库 SQL 语言层面的代码封装与重用。
  
  ![image-20240331193028278](C:\Users\JB.Lee\AppData\Roaming\Typora\typora-user-images\image-20240331193028278.png)
  
  特点：
  
  :
  
  - 封装，复用 --------------------------------------> 可以把某一业务SQL封装在存储过程中，需要用到的时候直接调用即可。
  - 可以接收参数，也可以返回数据 -----------> 在存储过程中，可以传递参数，也可以接收返回值。
  - 减少网络交互，效率提升 -------------------> 如果涉及到多条SQL，每执行一次都是一次网络传输。 而如果封装在存储过程中，我们只需要网络交互一次可能就可以了。
  
  - [基本语法](https://frxcat.fun/database/MySQL/MySQL_Advanced_View/#基本语法)
  
  ```
  -- 创建
  create procedure p2()
  begin
      select count(*) from employees;
  end;
  
  -- 调用
  call p2();
  
  -- 查看
  select * from information_schema.ROUTINES where ROUTINE_SCHEMA='mysql';
  show create  procedure if exists p2;
  
  -- 删除
  drop procedure p1;
  ```
  
  注意:
  
  在命令行中，执行创建存储过程的SQL时，需要通过关键字 `delimiter` 指定SQL语句的结束符。
  
  
  
  - [变量](https://frxcat.fun/database/MySQL/MySQL_Advanced_View/#变量)
  
  在MySQL中变量分为三种类型: 系统变量、用户定义变量、局部变量。
  
  # 1-系统变量
  
  系统变量 是MySQL服务器提供，不是用户定义的，属于服务器层面。分为全局变量（`GLOBAL`）、会话变量（`SESSION`）。
  
  查看系统变量：
  
  ```
  show session variables
  show variables like 'auto%';
  select @@global.autocommit;
  ```
  
  设置系统变量：
  
  ```
  set session autocommit :=1;
  set @@autocommit :=1;
  ```
  
  注意:
  
  如果没有指定`SESSION/GLOBAL`，默认是`SESSION`，会话变量。
  
  mysql服务重新启动之后，所设置的全局参数会失效，要想不失效，可以在 `/etc/my.cnf`中配置。
  
  - 全局变量(GLOBAL): 全局变量针对于所有的会话。
  - 会话变量(SESSION): 会话变量针对于单个会话，在另外一个会话窗口就不生效了。
  
  # 2-用户自定义变量：
  
  用户定义变量 是用户根据需要自己定义的变量，用户变量不用提前声明，在用的时候直接用 "@变量名" 使用就可以。其作用域为当前连接
  
  赋值，使用：
  
  ```
  select @my_name:='ljb',@my_hobby:='mysql',@my_age:=20;
  set @my_course：='math';
  select count(*) into @my_count from employees;
  select @my_age,@my_count,@my_course,@my_hobby,@my_name;
  ```
  
  # 3-局部变量：
  
  局部变量是根据需要定义的在局部生效的变量，访问之前，需要`DECLARE`声明。可用作存储过程内的局部变量和输入参数，局部变量的范围是在其内声明的BEGIN ... END块。
  
  ```
  create procedure p3()
  begin
      declare emp_count1 int;
      select count(*) into emp_count1 from employees;
      select emp_count1;
  end;
  
  call p3();
  ```
  
  - [if 判断](https://frxcat.fun/database/MySQL/MySQL_Advanced_View/#if-判断)
  
  ```
  IF 条件1 THEN
      .....
  ELSEIF 条件2 THEN     -- 可选
      .....
  ELSE              -- 可选
      .....
  END IF;
  
  根据定义的分数score变量，判定当前分数对应的分数等级。
  
  score >= 85分，等级为优秀。
  score >= 60分 且 score < 85分，等级为及格。
  score < 60分，等级为不及格。
  
  create procedure p4()
  begin
      declare score int default 60;
      declare result varchar(20);
      if score>=85 then
          set result:='优秀';
          elseif score>=60 then
          set result:='及格';
          else
          set result:='不及格';
      end if;
      select result;
  end;
  
  call p4();
  ```
  
  
  
  以上的需求我们虽然已经实现了，但是也存在一些问题，比如：score 分数我们是在存储过程中定义死的，而且最终计算出来的分数等级，我们也仅仅是最终查询展示出来而已。
  
  那么我们能不能，把score分数动态的传递进来，计算出来的分数等级是否可以作为返回值返回呢？答案是肯定的，我们可以通过接下来所学习的 参数 来解决上述的问题。
  
  - [参数](https://frxcat.fun/database/MySQL/MySQL_Advanced_View/#参数)
  
  1、介绍：
  参数的类型，主要分为以下三种：IN、OUT、INOUT。 具体的含义如下：
  
  | 类型  | 含义                                         | 备注 |
  | ----- | -------------------------------------------- | ---- |
  | IN    | 该类参数作为输入，也就是需要调用时传入值     | 默认 |
  | OUT   | 该类参数作为输出，也就是该参数可以作为返回值 |      |
  | INOUT | 既可以作为输入参数，也可以作为输出参数       |      |
  
  
  
  ```sql
  CREATE PROCEDURE 存储过程名称 ([ IN/OUT/INOUT 参数名 参数类型 ])
  BEGIN
  	-- SQL语句
  END ;
  
  ```
  
  案例一
  
  根据传入参数score，判定当前分数对应的分数等级，并返回。
  
  - score >= 85分，等级为优秀。
  - score >= 60分 且 score < 85分，等级为及格。
  - score < 60分，等级为不及格。
  
  ```
  create procedure p5(in score int,out result varchar(20))
  begin
          if score>=85 then
          set result:='优秀';
      elseif score>=60 then
          set result='及格';
      else
          set result:='不及格';
      end if;
  
  end;
  
  call p5(100,@result);
  select @result;
  ```
  
  案例二
  
  将**传入**的200分制的分数，进行换算，换算成百分制，然后**返回**。
  
  ```
  create procedure p6(inout score double)
  begin
      set score:=score*0.5;
  end;
  
  set @score:=500;
  call p6(@score);
  select @score;
  ```
  
  - [case](https://frxcat.fun/database/MySQL/MySQL_Advanced_View/#case)
  
  1. 语法
  
  case结构及作用，和我们在基础篇中所讲解的流程控制函数很类似。有两种语法格式：
  
  ```sql
  -- 含义： 当条件search_condition1成立时，执行statement_list1，当条件search_condition2成立时，执行statement_list2， 否则就执行 statement_list
  CASE
  	WHEN search_condition1 THEN statement_list1
  	[WHEN search_condition2 THEN statement_list2] ...
  	[ELSE statement_list]
  END CASE;
  ```
  
  ```
  案例：
  根据传入的月份，判定月份所属的季节（要求采用case结构）。
  
  1-3月份，为第一季度
  4-6月份，为第二季度
  7-9月份，为第三季度
  10-12月份，为第四季度
  
  create procedure p8(in month int)
  begin
      declare result varchar(20);
      case
          when month>=1 and month<=3 then
          set result:='第一季度';
          when month>=4 and month<=6 then
              set result:='第二季度';
          when month>=7 and month<=9 then
              set result:='第三季度';
          when month>=10 and month<=12 then
              set result:='第四季度';
          else
              set result:='非法参数';
      end case;
      select concat('您输入的月份是：',month,'所属的季度是：',result);
  end;
  
  call p8(1);
  ```
  
  
  
  ```
  if语句实现：
  
  create procedure p12(in month int,out result varchar(20))
  begin
  
     if month>=1 and month<=3 then
              set result:='第一季度';
          elseif month>=4 and month<=6 then
              set result:='第二季度';
          elseif month>=7 and month<=9 then
              set result:='第三季度';
          elseif month>=10 and month<=12 then
              set result:='第四季度';
          else
              set result:='非法参数';
          end if;
      end;
  call p12(7,@result);
  select concat ('所属季度为：',@result);
  ```
  
  提示
  
  注意：如果判定条件有多个，多个条件之间，可以使用 and 或 or 进行连接。
  
  - [while](https://frxcat.fun/database/MySQL/MySQL_Advanced_View/#while)
  
  1. 介绍
  
  while 循环是有条件的循环控制语句。满足条件后，再执行循环体中的SQL语句。具体语法为：
  
  ```sql
  -- 先判定条件，如果条件为true，则执行逻辑，否则，不执行逻辑
  WHILE 条件 DO
  	SQL逻辑...
  END WHILE;
  ```
  
  - [repeat](https://frxcat.fun/database/MySQL/MySQL_Advanced_View/#repeat)
  - [loop](https://frxcat.fun/database/MySQL/MySQL_Advanced_View/#loop)
  - [游标](https://frxcat.fun/database/MySQL/MySQL_Advanced_View/#游标)
  - [条件处理程序](https://frxcat.fun/database/MySQL/MySQL_Advanced_View/#条件处理程序)
- [存储函数](https://frxcat.fun/database/MySQL/MySQL_Advanced_View/#存储函数)
- 触发器
  - [介绍](https://frxcat.fun/database/MySQL/MySQL_Advanced_View/#介绍)
  
  ## 触发器
  
  ### [#](https://frxcat.fun/database/MySQL/MySQL_Advanced_View/#介绍-2)介绍
  
  触发器是与表有关的数据库对象，指在`insert/update/delete`之前(`BEFORE`)或之后(`AFTER`)，触发并执行触发器中定义的SQL语句集合。触发器的这种特性可以协助应用在数据库端确保数据的完整性, 日志记录 , 数据校验等操作 。
  
  使用别名`OLD`和`NEW`来引用触发器中发生变化的记录内容，这与其他的数据库是相似的。现在触发器还只支持行级触发，不支持语句级触发。
  
  | 触发器类型      | NEW和OLD                                                |
  | --------------- | ------------------------------------------------------- |
  | INSERT 型触发器 | NEW 表示将要或者已经新增的数据                          |
  | UPDATE 型触发器 | OLD 表示修改之前的数据 , NEW 表示将要或已经修改后的数据 |
  | DELETE 型触发器 | OLD 表示将要或者已经删除的数据                          |
  
  
  
  
  
  - [语法](https://frxcat.fun/database/MySQL/MySQL_Advanced_View/#语法)
  
  1. 创建
  
  CREATE TRIGGER trigger_name
  BEFORE/AFTER INSERT/UPDATE/DELETE
  ON tbl_name FOR EACH ROW -- 行级触发器
  BEGIN
  	trigger_stmt ;
  END;
  
  2.查看
  
  SHOW TRIGGERS;
  
  3.删除
  
  DROP TRIGGER [schema_name.]trigger_name ; -- 如果没有指定 schema_name，默认为当前数据库 。
  
  - [案例](https://frxcat.fun/database/MySQL/MySQL_Advanced_View/#案例)
  
  通过触发器记录 tb_user 表的数据变更日志，将变更日志插入到日志表user_logs中, 包含增加,修改 , 删除 ;
  
  表结构准备:
  
  -- 准备工作 : 日志表 user_logs
  
  create table user_logs(
  id int(11) not null auto_increment,
  	operation varchar(20) not null comment '操作类型, insert/update/delete',
  	operate_time datetime not null comment '操作时间',
  	operate_id int(11) not null comment '操作的ID',
  	operate_params varchar(500) comment '操作参数',
  	primary key(`id`)
  )engine=innodb default charset=utf8;
  
  
  
  A. 插入数据触发器:

create trigger tb_user_insert_trigger
		after insert on tb_user for each row
begin
		insert into user_logs(id, operation, operate_time, operate_id, operate_params) values
		(null,'insert',now(),new.id,concat('插入的数据内容为:id=',new.id,',name=',new.name,',phone=',new.phone,',email=',new.email,',profession=',new.profession));
end;

测试:

--查看
show triggers;

-- 插入数据到tb_user表
insert into tb_user(id, name, phone, email, profession, age, gender, status, createtime) VALUES (null,'三皇子','18809091212','erhuangzi@163.com','软件工程',23,'1','1',now());

B、修改数据触发器

```
create trigger tb_user_update_trigger
    after update on tb_user for each row
begin
    insert into user_logs(id, operation, operate_time, operate_id, operate_params) values
        (null,'update',now(),new.id,concat('更新之前的数据内容为:id=',old.id,',name=',old.name,',phone=',old.phone,',email=',old.email,',profession=',old.profession,
                                           '| 更新之后的数据内容为:id=',new.id,',name=',new.name,',phone=',new.phone,',email=',new.email,',profession=',new.profession));
end;
```

测试：

show triggers;

-- 更新
update tb_user set profession = '会计' where id = 23;
update tb_user set profession = '会计' where id <= 5;

测试完毕之后，检查日志表中的数据是否可以正常插入，以及插入数据的正确性。

C.删除数据触发器:

--删除数据的触发器
create trigger tb_user_delete_trigger
		after delete on tb_user for each row
begin
		insert into user_logs(id, operation, operate_time, operate_id, operate_params) values
		(null,'delete',now(),old.id,concat('删除之前的数据内容为:id=',old.id,',name=',old.name,',phone=',old.phone,',email=',old.email,',profession=',old.profession));
end

测试：

 --查看
show triggers;

delete from tb_user where id = 24;

测试完毕之后，检查日志表中的数据是否可以正常插入，以及插入数据的正确性。

# MySQL 锁



- [概述](https://frxcat.fun/database/MySQL/MySQL_lock/#概述)

锁是计算机协调多个进程或线程并发访问某一资源的机制。在数据库中，除传统的计算资源（`CPU、RAM、I/O`）的争用以外，数据也是一种供许多用户共享的资源。如何保证数据并发访问的一致性、有效性是所有数据库必须解决的一个问题，锁冲突也是影响数据库并发访问性能的一个重要因素。从这个角度来说，锁对数据库而言显得尤其重要，也更加复杂。

MySQL中的锁，按照锁的粒度分，分为以下三类：

- 全局锁：锁定数据库中的所有表。
- 表级锁：每次操作锁住整张表。
- 行级锁：每次操作锁住对应的行数据。

- 全局锁
  - [介绍](https://frxcat.fun/database/MySQL/MySQL_lock/#介绍)

  全局锁就是对整个数据库实例加锁，加锁后整个实例就处于只读状态，后续的DML的写语句，DDL语句，已经更新操作的事务提交语句都将被阻塞。

  其典型的使用场景是做全库的逻辑备份，对所有的表进行锁定，从而获取一致性视图，保证数据的完整性。

  为什么全库逻辑备份，就需要加全局锁呢？

  A. 我们一起先来分析一下不加全局锁，可能存在的问题。

  假设在数据库中存在这样三张表: tb_stock 库存表，tb_order 订单表，tb_orderlog 订单日志表。

  ![image-20240409211043117](C:\Users\JB.Lee\AppData\Roaming\Typora\typora-user-images\image-20240409211043117.png)

  - 在进行数据备份时，先备份了tb_stock库存表。
  - 然后接下来，在业务系统中，执行了下单操作，扣减库存，生成订单（更新tb_stock表，插入tb_order表）。
  - 然后再执行备份 tb_order表的逻辑。
  - 业务中执行插入订单日志操作。
  - 最后，又备份了tb_orderlog表。

  此时备份出来的数据，是存在问题的。因为备份出来的数据，tb_stock表与tb_order表的数据不一致(有最新操作的订单信息,但是库存数没减)。

  那如何来规避这种问题呢? 此时就可以借助于MySQL的全局锁来解决。

  B. 再来分析一下加了全局锁后的情况

  <img src="C:\Users\JB.Lee\AppData\Roaming\Typora\typora-user-images\image-20240409211343699.png" alt="image-20240409211343699" style="zoom:25%;" />

  对数据库进行进行逻辑备份之前，先对整个数据库加上全局锁，一旦加了全局锁之后，其他的DDL、DML全部都处于阻塞状态，但是可以执行DQL语句，也就是处于只读状态，而数据备份就是查询操作。那么数据在进行逻辑备份的过程中，数据库中的数据就是不会发生变化的，这样就保证了数据的一致性和完整性

  - [语法](https://frxcat.fun/database/MySQL/MySQL_lock/#语法)

  1. 加全局锁

  flush tables with read lock;

  2.数据备份

  mysqldump -uroot –p1234 itcast > itcast.sql

  3.释放锁

  unlock tables;

  ![image-20240409212237585](C:\Users\JB.Lee\AppData\Roaming\Typora\typora-user-images\image-20240409212237585.png)

  

  - [特点](https://frxcat.fun/database/MySQL/MySQL_lock/#特点)

  数据库中加全局锁，是一个比较重的操作，存在以下问题：

  - 如果在主库上备份，那么在备份期间都不能执行更新，业务基本上就得停摆。
  - 如果在从库上备份，那么在备份期间从库不能执行主库同步过来的二进制日志（binlog），会导致主从延迟。

  在InnoDB引擎中，我们可以在备份时加上参数 --single-transaction 参数来完成不加锁的一致性数据备份。

  在InnoDB引擎中，我们可以在备份时加上参数 --single-transaction 参数来完成不加锁的一致性数据备份。

  mysqldump --single-transaction -uroot –p123456 itcast > itcast.sql

  

  `mysqldump --single-transaction -h8.138.26.188 -uroot –p123456 itcast > /home/ljb/itcast.sql` 是一条用于备份 MySQL 数据库的命令行指令。让我们逐个解析其组成部分：

  **`mysqldump`**：
  这是 MySQL 提供的一个用于生成数据库备份的工具。它通过执行一系列 SQL 命令，将指定数据库的结构（表、视图、触发器、存储过程等）和数据导出为一个 SQL 文本文件，该文件可用于恢复数据库到备份时的状态。

  **`--single-transaction`**：
  这是一个选项，告诉 `mysqldump` 在备份过程中使用单个事务来保证数据一致性。这意味着在开始备份时，mysqldump 会启动一个事务，并在整个备份过程中保持这个事务的开启状态。由于事务的隔离性，其他并发的写操作不会影响备份过程中看到的数据视图，从而实现了在不停止应用程序写入的情况下获取数据库的逻辑一致性快照。这个选项适用于使用 InnoDB 存储引擎的表，因为它支持事务。

  **`-h8.138.26.188`**：
  指定 MySQL 服务器的 IP 地址为 `8.138.26.188`，表示要连接到这个远程主机上的 MySQL 服务进行备份。

  **`-uroot`**：
  指定连接到 MySQL 服务器时使用的用户名为 `root`，这是 MySQL 中具有最高权限的系统用户。

  **`-p123456`**：
  这里的 `-p` 后面跟随的是密码（这里是 `123456`），用于验证 `root` 用户的身份。注意在实际命令行中，出于安全考虑，通常不建议直接在命令行中明文输入密码，而是应该在提示时输入，或者使用环境变量、配置文件等方式提供。

  **`itcast`**：
  这是要备份的数据库名，表明只备份名为 `itcast` 的数据库。

  **`>`**：
  这是 shell 中的重定向符号，表示将命令执行的结果输出到后面指定的文件中。

  **`/home/ljb/itcast.sql`**：
  这是备份文件的保存路径和名称。备份后的 SQL 脚本将被保存到 `/home/ljb` 目录下，文件名为 `itcast.sql`。

  综上所述，这条命令的意思是：使用 `mysqldump` 工具，通过 `root` 用户和密码 `123456` 连接到 IP 地址为 `8.138.26.188` 的 MySQL 服务器，对名为 `itcast` 的数据库进行备份。备份过程中利用 `--single-transaction` 选项确保数据一致性，最终生成的备份文件存储在本地路径 `/home/ljb/itcast.sql` 中。这样，如果需要恢复数据库，只需执行这个 SQL 文件中的命令即可还原到备份时的状态。

- 表级锁
  - [介绍](https://frxcat.fun/database/MySQL/MySQL_lock/#介绍)

  表级锁，每次操作锁住整张表。锁定粒度大，发生锁冲突的概率最高，并发度最低。应用在MyISAM、InnoDB、BDB等存储引擎中。

  对于表级锁，主要分为以下三类：

  - 表锁
  - 元数据锁（meta data lock，MDL）
  - 意向锁

  

  - [表锁](https://frxcat.fun/database/MySQL/MySQL_lock/#表锁)

  对于表锁，分为两类：

  - 表共享读锁（read lock）
  - 表独占写锁（write lock）

  语法：

  - 加锁：lock tables 表名... read/write。
  - 释放锁：unlock tables / 客户端断开连接 。

  特点:

  A. 读锁

  ![image-20240409233020968](C:\Users\JB.Lee\AppData\Roaming\Typora\typora-user-images\image-20240409233020968.png)

  

  左侧为客户端一，对指定表加了读锁，不会影响右侧客户端二的读，但是会阻塞右侧客户端的写。

  

  B.写锁

  ![image-20240409233046760](C:\Users\JB.Lee\AppData\Roaming\Typora\typora-user-images\image-20240409233046760.png)

  

  左侧为客户端一，对指定表加了写锁，会阻塞右侧客户端的读和写。

  

  结论

  读锁不会阻塞其他客户端的读，但是会阻塞写。写锁既会阻塞其他客户端的读，又会阻塞其他客户端的写。

  - [元数据锁](https://frxcat.fun/database/MySQL/MySQL_lock/#元数据锁)

  meta data lock , 元数据锁，简写MDL。

  MDL加锁过程是系统自动控制，无需显式使用，在访问一张表的时候会自动加上。MDL锁主要作用是维护表元数据的数据一致性，在表上有活动事务的时候，不可以对元数据进行写入操作。**为了避免DML与DDL冲突，保证读写的正确性**。

  这里的元数据，大家可以简单理解为就是一张表的表结构。 也就是说，某一张表涉及到未提交的事务时，是不能够修改这张表的表结构的。

  在MySQL5.5中引入了MDL，当对一张表进行增删改查的时候，加MDL读锁(共享)；当对表结构进行变更操作的时候，加MDL写锁(排他)。

  常见的SQL操作时，所添加的元数据锁：

  | 对应SQL                                        | 锁类型                                  | 说明                                             |
  | ---------------------------------------------- | --------------------------------------- | ------------------------------------------------ |
  | lock tables xxx read/write                     | SHARED_READ_ONLY / SHARED_NO_READ_WRITE |                                                  |
  | select 、select ... lock in share mode         | SHARED_READ                             | 与SHARED_READ、SHARED_WRITE兼容，与EXCLUSIVE互斥 |
  | insert 、update、delete、select ... for update | SHARED_WRITE                            | 与SHARED_READ、SHARED_WRITE兼容，与EXCLUSIVE互斥 |
  | alter table ...                                | EXCLUSIVE                               | 与其他的MDL都互斥                                |

  

  演示：

  当执行SELECT、INSERT、UPDATE、DELETE等语句时，添加的是元数据共享锁（SHARED_READ / SHARED_WRITE），之间是兼容的。

  当执行SELECT语句时，添加的是元数据共享锁（SHARED_READ），会阻塞元数据排他锁（EXCLUSIVE），之间是互斥的。

  我们可以通过下面的SQL，来查看数据库中的元数据锁的情况：

  select object_type,object_schema,object_name,lock_type,lock_duration from performance_schema.metadata_locks;

  我们在操作过程中，可以通过上述的SQL语句，来查看元数据锁的加锁情况。

  - [意向锁](https://frxcat.fun/database/MySQL/MySQL_lock/#意向锁)

  1. 介绍

  为了避免DML在执行时，加的行锁与表锁的冲突，在InnoDB中引入了意向锁，使得表锁不用检查每行数据是否加锁，使用意向锁来减少表锁的检查。

  假如没有意向锁，客户端一对表加了行锁后，客户端二如何给表加表锁呢，来通过示意图简单分析一下：

  首先客户端一，开启一个事务，然后执行DML操作，在执行DML语句时，会对涉及到的行加行锁。

  当客户端二，想对这张表加表锁时，会检查当前表是否有对应的行锁，如果没有，则添加表锁，此时就会从第一行数据，检查到最后一行数据，效率较低。

  ![image-20240410000624549](C:\Users\JB.Lee\AppData\Roaming\Typora\typora-user-images\image-20240410000624549.png)

  有了意向锁之后 :

  客户端一，在执行DML操作时，会对涉及的行加行锁，同时也会对该表加上意向锁。

  ![image-20240410000700753](C:\Users\JB.Lee\AppData\Roaming\Typora\typora-user-images\image-20240410000700753.png)

  而其他客户端，在对这张表加表锁的时候，会根据该表上所加的意向锁来判定是否可以成功加表锁，而不用逐行判断行锁情况了。

  ![image-20240410000730834](C:\Users\JB.Lee\AppData\Roaming\Typora\typora-user-images\image-20240410000730834.png)

  1. 分类

  - **意向共享锁(IS): 由语句select ... lock in share mode添加** 。**与表锁共享锁(read)兼容，与表锁排他锁(write)互斥**。
  - **意向排他锁(IX)**: **由insert、update、delete、select...for update添加 **。**与表锁共享锁(read)及排他锁(write)都互斥，意向锁之间不会互斥**。

  > 一旦事务提交了，意向共享锁、意向排他锁，都会自动释放。

  可以通过以下SQL，查看意向锁及行锁的加锁情况：

  select object_schema,object_name,index_name,lock_type,lock_mode,lock_data from performance_schema.data_locks;

  演示：

  A. 意向共享锁与表读锁是兼容的

  B.意向排他锁与表读锁、写锁都是互斥的
- 行级锁
  - [介绍](https://frxcat.fun/database/MySQL/MySQL_lock/#介绍)
  - [行锁](https://frxcat.fun/database/MySQL/MySQL_lock/#行锁)
  - [间隙锁&临键锁](https://frxcat.fun/database/MySQL/MySQL_lock/#间隙锁-临键锁)

# MySQL InnoDB引擎



- [逻辑存储引擎](https://frxcat.fun/database/MySQL/MySQL_InnoDB_engine/#逻辑存储引擎)
- 架构
  - [概述](https://frxcat.fun/database/MySQL/MySQL_InnoDB_engine/#概述)
  - [内存架构](https://frxcat.fun/database/MySQL/MySQL_InnoDB_engine/#内存架构)
  - [磁盘结构](https://frxcat.fun/database/MySQL/MySQL_InnoDB_engine/#磁盘结构)
  - [后台线程](https://frxcat.fun/database/MySQL/MySQL_InnoDB_engine/#后台线程)
- 事务原理
  - [事务基础](https://frxcat.fun/database/MySQL/MySQL_InnoDB_engine/#事务基础)
  - [redo log](https://frxcat.fun/database/MySQL/MySQL_InnoDB_engine/#redo-log)
  - [undo log](https://frxcat.fun/database/MySQL/MySQL_InnoDB_engine/#undo-log)
- MVCC
  - [基本概念](https://frxcat.fun/database/MySQL/MySQL_InnoDB_engine/#基本概念)
  - [隐藏字段](https://frxcat.fun/database/MySQL/MySQL_InnoDB_engine/#隐藏字段)
  - [undolog](https://frxcat.fun/database/MySQL/MySQL_InnoDB_engine/#undolog)
  - [readview](https://frxcat.fun/database/MySQL/MySQL_InnoDB_engine/#readview)
  - [原理分析](https://frxcat.fun/database/MySQL/MySQL_InnoDB_engine/#原理分析)

# MySQL 管理



- [系统数据库](https://frxcat.fun/database/MySQL/MySQL_Advanced_manager/#系统数据库)
- 常用工具
  - [mysql](https://frxcat.fun/database/MySQL/MySQL_Advanced_manager/#mysql)
  - [mysqladmin](https://frxcat.fun/database/MySQL/MySQL_Advanced_manager/#mysqladmin)
  - [mysqlbinlog](https://frxcat.fun/database/MySQL/MySQL_Advanced_manager/#mysqlbinlog)
  - [mysqlshow](https://frxcat.fun/database/MySQL/MySQL_Advanced_manager/#mysqlshow)
  - [mysqldump](https://frxcat.fun/database/MySQL/MySQL_Advanced_manager/#mysqldump)
  - [mysqlimport/source](https://frxcat.fun/database/MySQL/MySQL_Advanced_manager/#mysqlimport-source)

































































































# （三）**MySQL-运维**

# MySQL 日志

- [错误日志](https://frxcat.fun/database/MySQL/MySQL_journal/#错误日志)
- 二进制日志
  - [介绍](https://frxcat.fun/database/MySQL/MySQL_journal/#介绍)
  - [格式](https://frxcat.fun/database/MySQL/MySQL_journal/#格式)
  - [查看](https://frxcat.fun/database/MySQL/MySQL_journal/#查看)
  - [删除](https://frxcat.fun/database/MySQL/MySQL_journal/#删除)
- [查询日志](https://frxcat.fun/database/MySQL/MySQL_journal/#查询日志)
- [慢查询日志](https://frxcat.fun/database/MySQL/MySQL_journal/#慢查询日志)

# MySQL 主从复制



- [概述](https://frxcat.fun/database/MySQL/MySQL_Master_slave_replication/#概述)
- [原理](https://frxcat.fun/database/MySQL/MySQL_Master_slave_replication/#原理)
- 搭建
  - [准备](https://frxcat.fun/database/MySQL/MySQL_Master_slave_replication/#准备)
  - [主库配置](https://frxcat.fun/database/MySQL/MySQL_Master_slave_replication/#主库配置)
  - [从库配置](https://frxcat.fun/database/MySQL/MySQL_Master_slave_replication/#从库配置)

# MySQL 分库分表



- 介绍
  - [问题分析](https://frxcat.fun/database/MySQL/MySQL_Mycat/#问题分析)
  - [拆分策略](https://frxcat.fun/database/MySQL/MySQL_Mycat/#拆分策略)
  - [垂直拆分](https://frxcat.fun/database/MySQL/MySQL_Mycat/#垂直拆分)
  - [水平拆分](https://frxcat.fun/database/MySQL/MySQL_Mycat/#水平拆分)
  - [实现技术](https://frxcat.fun/database/MySQL/MySQL_Mycat/#实现技术)
- MyCat概述
  - [介绍](https://frxcat.fun/database/MySQL/MySQL_Mycat/#介绍)
  - [下载](https://frxcat.fun/database/MySQL/MySQL_Mycat/#下载)
  - [安装](https://frxcat.fun/database/MySQL/MySQL_Mycat/#安装)
  - [目录介绍](https://frxcat.fun/database/MySQL/MySQL_Mycat/#目录介绍)
  - [概念介绍](https://frxcat.fun/database/MySQL/MySQL_Mycat/#概念介绍)
- MyCat入门
  - [需求](https://frxcat.fun/database/MySQL/MySQL_Mycat/#需求)
  - [环境准备](https://frxcat.fun/database/MySQL/MySQL_Mycat/#环境准备)
  - [配置](https://frxcat.fun/database/MySQL/MySQL_Mycat/#配置)
  - [测试](https://frxcat.fun/database/MySQL/MySQL_Mycat/#测试)
- MyCat 配置
  - [schema.xml](https://frxcat.fun/database/MySQL/MySQL_Mycat/#schema-xml)
  - [rule.xml](https://frxcat.fun/database/MySQL/MySQL_Mycat/#rule-xml)
  - [server.xml](https://frxcat.fun/database/MySQL/MySQL_Mycat/#server-xml)
- MyCat 分片
  - [垂直拆分](https://frxcat.fun/database/MySQL/MySQL_Mycat/#垂直拆分)
  - [水平拆分](https://frxcat.fun/database/MySQL/MySQL_Mycat/#水平拆分)
  - [分片规则](https://frxcat.fun/database/MySQL/MySQL_Mycat/#分片规则)
- MyCat 管理及监控
  - [MyCat 原理](https://frxcat.fun/database/MySQL/MySQL_Mycat/#mycat-原理)
  - [MyCat 管理](https://frxcat.fun/database/MySQL/MySQL_Mycat/#mycat-管理)
  - [MyCat-eye](https://frxcat.fun/database/MySQL/MySQL_Mycat/#mycat-eye)

# MySQL 读写分离



- [介绍](https://frxcat.fun/database/MySQL/MySQL_Read_write_separation/#介绍)
- 一主一从
  - [原理](https://frxcat.fun/database/MySQL/MySQL_Read_write_separation/#原理)
  - [准备](https://frxcat.fun/database/MySQL/MySQL_Read_write_separation/#准备)
- 一主一从读写分离
  - [schema.xml配置](https://frxcat.fun/database/MySQL/MySQL_Read_write_separation/#schema-xml配置)
  - [server.xml配置](https://frxcat.fun/database/MySQL/MySQL_Read_write_separation/#server-xml配置)
  - [测试](https://frxcat.fun/database/MySQL/MySQL_Read_write_separation/#测试)
- docker 搭建MySQL一主一从
  - [测试](https://frxcat.fun/database/MySQL/MySQL_Read_write_separation/#测试)

